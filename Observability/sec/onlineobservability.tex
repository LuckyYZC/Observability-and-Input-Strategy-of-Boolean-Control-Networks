% !Mode\dots ``TeX:UTF-8''
% !TEX root = ../root.tex
\section{The online observability of \BCNs}
\label{sec:online}
In this paper we propose the online observability, the informal definition of it is as follows. 

\begin{definition}
	A {\em BCN} is called online observable, if every initial state $s_0 \in \Delta_N$ can be determined in one time by dynamically deciding input sequence and observing output sequence at every step without presupposing the  initial state of {\em BCN}. And this process can be accomplished in finite steps.
\end{definition}

%\tl{maybe I did not understand this, but I think you are confusing two things: the observability and the algorithm (approach) to determine the initial state. It seems to me that you are describing a new approach (the online approach), but does this change the observability? if yes, how? Is this a stronger notion or a weaker notion or incomparable?}

In this section, firstly we present the definition of deduce function, secondly we present the definition of $K$ steps deterministic. We take them as the preparations for defining online observability. Finally, we give the formal definition of online observability of {\em BCNs}. 
\subsection{Deduce Function}
Different from four existing types, the observability we propose can determine the initial state online. Because in the process of determining the initial state every input of the input sequence is decided by the output we observe at every time step. At the beginning, we can observe the output of {\em BCNs}, so that we can infer the possible values of state-nodes and treat them as possible states set $S_0$. Then as we can know the possible states set, we need to decide the input $i_0$. The input $i_0$ will make sure any different possible states $s_i, s_j \in S_0$ will not turn into the same state after affected by input $Ls_i i_0\neq Ls_j i_0$. After decided input, we can observe the new output, and then we can infer the new possible states set. The cardinal number of possible states set after we input will not lager than the cardinal number of possible states set before we input. If the cardinal number of possible states set turn into be $1$ then we can determine the state and the initial state of {\em BCN}. To simulate this deduction process, we give the definition of deduce function that.
\begin{definition}[Deduce Function] The deduce function can be defined as $D\left(S, I, O\right)$. Based on deduction process, we have for any \[s_i(t+1)\in D\left(S, I, O\right)\] there exists the corresponding $s_i(t)$ of $s_i(t+1)$ in $S$ that \[s_i(t+1)=LIs_i(t)\] and \[O=Hs_i(t+1).\]
\end{definition}
where   
\begin{itemize}
  \item $S\in 2^{\Delta_N}$ is the possible states set;
  \item $I\in\Delta_M$ represents the input;
  \item $O\in\Delta_Q$ represents the output; 
  \item $D\left(S, I, O\right)\in 2^{\Delta_N}$ is the possible states set after deduction.
\end{itemize} 
 
 From the definition of deduce, we have some equations for this function that
\begin{equation}
\begin{split}
D\left(\varnothing,I_i,O_i\right)=\varnothing\\
%D\left(\varnothing,I_i,O_i\right)=D\left(\varnothing,\varepsilon,O_i\right)=&D\left(\varnothing,\varepsilon,\varepsilon\right)=\varnothing\\
\end{split}
\label{equ:7}
\end{equation}

Equation (\ref{equ:7}) represents that if the possible states set is an empty set $\varnothing$, no matter what we do we can only deduce the possible set is $\varnothing$ too. 
\begin{equation}
\begin{split}
D\left(S_i,\varepsilon,\varepsilon\right)=&S_i\\
\end{split}
\label{equ:8}
\end{equation}

If the possible states set is $S_i$ and we neither input anything and nor observe the output. In this case we can only deduce that the possible states set is $S_i$ shown in equation (\ref{equ:8}).
\begin{equation}
\begin{split}
D\left(\Delta_N,\varepsilon,\delta_4^1\right)=&\{\delta_{16}^1,\delta_{16}^2,\delta_{16}^3\}\\
\end{split}
\label{equ:9}
\end{equation}
 
 Using the example mentioned before, when the possible states set $S_i=\Delta_N$, and  we observe that the outputs of \BCN\ is $\delta_4^1$ before we decide input. In this case we can deduce that the possible states would be $\delta_{16}^1$, $\delta_{16}^2$ or  $\delta_{16}^3$ shown in equation (\ref{equ:9}).
\begin{equation}
\begin{split}
D\left(\{\delta_{16}^1,\delta_{16}^2,\delta_{16}^3\},\delta_4^1,\varepsilon\right)=&\{\delta_{16}^{10},\delta_{16}^4,\delta_{16}^{11}\}\\
\end{split}
\label{equ:10}
\end{equation}

If the possible states set $S_i=\{\delta_{16}^1$, $\delta_{16}^2$, $\delta_{16}^3\}$ we input $\delta_4^1$. Before we observe the output of \BCN\ we can only deduce the possible states would be   $\delta_{16}^{10}$, $\delta_{16}^4$ or  $\delta_{16}^{11}$ shown in equation (\ref{equ:10}).
\begin{equation}
\begin{split}
D\left(\{\delta_{16}^1,\delta_{16}^2,\delta_{16}^3\},\delta_4^1,\delta_4^3\right)=&\{\delta_{16}^{10},\delta_{16}^{11}\}\\
\end{split}
\label{equ:11}
\end{equation}

But if we observe that the output of \BCN\ is $\delta_4^3$, then we can deduce that the possible state can be $\delta_{16}^{10}$ or  $\delta_{16}^{11}$ shown in equation (\ref{equ:11}); 
\begin{equation}
\begin{split}
D\left(\{\delta_{16}^4,\delta_{16}^5,\delta_{16}^6\},\delta_4^3,\varepsilon\right)=&\{\delta_{16}^9,\delta_{16}^{13}\}
\end{split}
\label{equ:12}
\end{equation}

 Finally if the set of states is $\{\delta_{16}^4,\delta_{16}^5,\delta_{16}^6\}$ and the inputs is $\delta_4^3$. Before we observe the output of \BCN\ we can deduce that the possible state values can be $\delta_{16}^9$ or  $\delta_{16}^{13}$ shown in equation (\ref{equ:12}), as  the cardinality number of the possible states set decreased, we can't deduce the initial state any more. 

\subsection{$K$ Steps Deterministic}
After we difined the deduce function, we can present the definition of $K$ steps deterministic of the states set of {\em BCNs} and the range of $K$ is the set of natural numbers. It may easier to difine online observability by programming language. But we would like to define its mathematical form for preciseness of concepts. Therefore, before defining the online observability of {\em BCNs}, we need to difine the $K$ steps deterministic of the states set of {\em BCNs} at first.
\begin{definition}[$K$ Steps Deterministic] 
When $K=0$, 
 if for a set of states $S'$ and $|S'|=1$, then $S'$ is $K$ step deterministic. When $K>0$, 
 if for a set of states $S'$ ($|S'|>1$), there exists $I'$ in $\Delta_M$ implies \[|D\left(S',I',\varepsilon\right)|=|S'|, \]and implies ``For every $O'$ in $\Delta_Q$, \[|D\left(S',I',O'\right)|\neq 0\] implies $D\left(S',I',O'\right)$ is {\em$K'$ (${K'}<K$)} stepes deterministic.', then $S'$ is $K$ steps deterministic.
\end{definition}

From the definition of {\em$K$} steps deterministic we know $K=0$ means that we can determine the state without any input and observing output. Because if we know the cardinality number of possible states set is $1$, then we can know the state of {\em BCNs}. We can only discuss the case of $K=0$ when $|S'|=1$. If $K>0$, then the definition of $K$ steps deterministic is defined recursively, and it need to use the definition of $K$ ($K=0$) steps. When we talk that a states set of {\em BCNs} is $k$ steps deterministic we default $k\ge0$.

Furthermore, if $S'$ is $k_1$ steps deterministic and $k_1\leq k_2$, then $S'$ is $k_2$ steps deterministic. But if $S'$ is $k_1$ steps deterministic and $k_1\geq k_2$, we can not make sure whether $S'$ is $k_2$ steps deterministic or not. Therefore you can consider the ``$S'$ is $k_i$ steps deterministic'' as ``We can determine the state of a \BCN\ with possible states set $S'$ in $k_i$ steps. And we finish this process by deciding input sequence and observing out sequence at each time step''. 
\subsection{Online Observability}
After the previous preparation, we present the formal definition of the online observability. The formal definition of the online observability of {\em BCNs} is as follows.
\begin{definition}[Online Observability of  BCNs]
If for every  $O'$ in $\Delta_Q$ and $|D\left(\Delta_N,\varepsilon, O'\right)|\neq 0$, there exists a $ k \ge 0$ implies $D\left(\Delta_N,\varepsilon,O'\right)$ is $k$ stepes deterministic, then this \BCN\ is online observable. We even can define it simpler, if there exists $k \ge 0$ implies $\Delta_N$ is $k$ stepes deterministic, then this \BCN\ is online observable. 
\end{definition}

The difference between the second definition and the first definition is that whether we observe the corresponding output of the initial state of \BCN\ at first. For better performance, we use the first definition of online observability.

After defining online observability of {\em BCNs}, we discuss the comparison of online observability with the four existing observability. In the second existing kind of observability, we presuppose the initial state of {\em BCNs}, and then try to find the input sequence to distinguish it from other kinds of initial states. But the input sequence determined by the presupposed initial state may make other kinds of initial states turn into be the same state, so that other kinds of initial states can't be determined anymore. This problem has to be considered in the online obervability of {\em BCNs}. Hence the online observability implies the first existing kind of observability, and then the online observability implies the second existing kind of observability. In the third existing kind of observability, there has to exist an input sequence that can distinguish any distinct states. However in online observability we can use different input sequences to distinguish any distinct states in different states sets. These different states sets are classified by their corresponding output. Therefore, we have the third existing kind of observability implies the online observability of {\em BCNs}, then the fourth existing kind of observability implies the online observability.

When I learn the existing four kinds of observability of {\em BCNs}, I find that if we want determine the initial state of a \BCNs\ by first kind of observability, we need to guess the initial state of the \BCN\ and then check it by its corresponding input sequence, if the initial state we guess is right, we can determine it, but if not, we need to guess again and input the corresponding input sequence untill we determine the initial state of the {\em BCN}. But if we can't repeat this process, we may can't determine the initial state of the {\em BCN} any more. Then I turn my gaze to the third observability, this kind of observability makes we can determine the initial state without presupposing the initial state. But I think if we can determine the possible states set of the {\em BCN} by observing the output at first, why can't we try to find corresponding input sequence for them? And then my teacher and I talk about this thinkness and expand it into the original idea of the online observability of {\em BCNs}. 

From the informal definition and formal definition of online observability, we can know that the necessary and sufficient condition of determine the initial state of \BCNs\ without presuppose the initial state is the online observability of {\em BCNs}. By this definition we can build \BCNs\ with least output-nodes when we want to determine the initial state of {\em BCNs}.
%==============================================================================================================